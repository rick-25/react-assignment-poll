(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,function(e,t,a){e.exports=a(29)},,,,,,,,,,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),c=a.n(o),l=a(4),s=a(1),i=a.n(s),u=a(3),p=a(2),m=(a(17),a(19),function(e){var t=e.title;return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"brand"},t))});a(21);var d=function(e){var t=e.poll,a=e.votePoll,o=Object(n.useState)(!1),c=Object(p.a)(o,2),l=c[0],s=c[1];return r.a.createElement("div",{className:"poll"},r.a.createElement("div",{className:"question"},t.question),r.a.createElement("div",{className:"option-container"},t.options.map(function(e){return r.a.createElement("div",{className:"option",key:e._id,onClick:function(t){a(e._id),s(!0)}},r.a.createElement("div",{className:"option-title"},e.title),l&&r.a.createElement("div",{className:"option-percentage"},(e.voteCount/t.totalVotes*100).toFixed(1),"%"))})))};a(23);var f=function(e){var t=e.title;return r.a.createElement("div",{className:"title"},t)};a(25);var v=function(e){var t=e.title,a=e.polls,n=e.votePoll;return r.a.createElement("div",{className:"poll-list"},r.a.createElement(f,{title:t}),r.a.createElement("div",{className:"container"},a.map(function(e){return r.a.createElement(d,{poll:e,key:e._id,votePoll:n})}),0===a.length&&r.a.createElement("p",null,"Sorry! empty list")))};a(27);var E=function(e){var t=e.polls;return r.a.createElement("section",{className:"user-section"},r.a.createElement("div",{className:"user-card"},r.a.createElement("div",{className:"container"},r.a.createElement("img",{src:"https://image.shutterstock.com/image-vector/portrait-photo-icon-flat-vector-600w-1648930807.jpg",alt:"user profile image",className:"user-image"}),r.a.createElement("div",{className:"user-name"},"John"),r.a.createElement("div",{className:"user-contact"},"+91-237293293",r.a.createElement("br",null),"temp123@gmail.com"))),r.a.createElement(v,{polls:t,title:"Your polls"}))},h=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)([]),s=Object(p.a)(c,2),d=s[0],f=s[1],h="http://localhost:4400";Object(n.useEffect)(function(){b()},[]);var b=function(){var e=Object(u.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:4400/api/poll");case 2:return t=e.sent,e.t0=o,e.next=6,t.json();case 6:e.t1=e.sent,(0,e.t0)(e.t1);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(i.a.mark(function e(t){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:4400/api/poll",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:if(200===(a=e.sent).status){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(i.a.mark(function e(t){var a,n,r,o,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target,n=a.question,r=a.options,t.preventDefault(),o={question:n.value,options:[]},r.forEach(function(e){e.value&&o.options.push(e.value)}),e.next=6,N(o);case 6:(c=e.sent)&&(b(),f([].concat(Object(l.a)(d),[c])),document.getElementById("add-poll-form").reset(),alert("Values added"));case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();function j(){return(j=Object(u.a)(i.a.mark(function e(t){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"/api/vote/"+t);case 2:return a=e.sent,e.t0=console,e.next=6,a.json();case 6:e.t1=e.sent,e.t0.log.call(e.t0,e.t1);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(e){a.forEach(function(t){t.options.forEach(function(a){a._id===e&&(a.voteCount++,t.totalVotes++)})}),function(e){j.apply(this,arguments)}(e),o(Object(l.a)(a))}return r.a.createElement("div",{className:"app"},r.a.createElement(m,{title:"Assignment"}),r.a.createElement("div",{className:"container"},r.a.createElement("section",{className:"left"},r.a.createElement(v,{title:"Trending polls \ud83d\udd25",polls:Object(l.a)(a).sort(function(e,t){return t.totalVotes-e.totalVotes}),votePoll:x})),r.a.createElement("section",{className:"center"},r.a.createElement("div",{className:"post-form"},r.a.createElement("form",{action:"http://localhost:4400/api/poll",method:"post",onSubmit:y,id:"add-poll-form"},r.a.createElement("input",{type:"text",name:"question",placeholder:"Enter question e.g What's your fav starwar character?",required:!0}),r.a.createElement("input",{type:"text",name:"options",placeholder:"Enter 1st option",required:!0}),r.a.createElement("input",{type:"text",name:"options",placeholder:"Enter 2nd option",required:!0}),r.a.createElement("input",{type:"text",name:"options",placeholder:"Enter 3rd option",required:!0}),r.a.createElement("input",{type:"text",name:"options",placeholder:"Enter 4th option",required:!0}),r.a.createElement("input",{type:"submit",value:"Add poll"}))),r.a.createElement(v,{title:"Latest polls",polls:a,votePoll:x})),r.a.createElement("section",{className:"right"},r.a.createElement(E,{polls:d}))))},b=document.getElementById("root");c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h,null)),b)}],[[7,2,1]]]);
//# sourceMappingURL=main.e9705c30.chunk.js.map